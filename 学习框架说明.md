[toc]

## å†™åœ¨æœ€å‰é¢çš„åŸå› ï¼šsrc çš„åœ°å€æ˜ å°„

ä¸è¦ç”¨@,å› ä¸ºè¿™é‡Œå¼•å…¥å›¾æ ‡åº“çš„å†²çªï¼Œè¿™é‡Œä½¿ç”¨~ã€‚
é…ç½®ä¸€ä¸‹ tsconfig.js

```
    "paths": {
      "~/*": ["src/*"]
    }

```

# 1.unplugin-icons---è‡ªåŠ¨å¼•å…¥å›¾æ ‡åº“

æ¨¡å—åŒ–è‡ªåŠ¨å¼•å…¥å›¾æ ‡åº“
æ¯”å¦‚æ‰¾è§ä¸€ä¸ª ep:user
<ep:user />

å°±å¯ä»¥äº†

# 2.ç»„ä»¶è‡ªåŠ¨å¼•å…¥å„ç§æ–‡ä»¶

è™½ç„¶ setup åŠ åˆ° script ä¸­åï¼Œå¯ä»¥ä¸ç”¨æ³¨å†Œï¼Œä½†æ˜¯éœ€è¦ import
è¿˜æƒ³æ›´æ‡’æƒ°å—ï¼Œä¸è¦ import
ç°åœ¨åªè¦åœ¨ src/components ä¸‹å®šä¹‰çš„ç»„ä»¶éƒ½å°†ä¼šæŒ‰éœ€å¼•å…¥ï¼Œå³ import æ˜¯ä¸éœ€è¦çš„
ä½†æ˜¯ native-ui å¯ä»¥ä½¿ç”¨ã€‚

ä½†æ˜¯ element-plus

# 3.SWR ä½¿ç”¨

SWR æ˜¯æ›´ç°ä»£çš„è¯·æ±‚æ–¹å¼ï¼Œå…·ä½“å¯è§æ–‡ç«  ğŸ‘‰ SWRã€‚

è€Œ vue-request æ˜¯ä¸€ä¸ª SWR çš„ Vue ç‰ˆæœ¬è¯·æ±‚åº“ã€‚

```
ä»…éœ€ä¸€è¡Œä»£ç ï¼Œä½ å°±å¯ä»¥ç®€åŒ–é¡¹ç›®ä¸­æ•°æ®è¯·æ±‚çš„é€»è¾‘ï¼Œå¹¶ç«‹å³æ‹¥æœ‰ä»¥ä¸‹è¿™äº›ä¸å¯æ€è®®çš„ç‰¹æ€§ï¼š

æé€Ÿã€è½»é‡ã€å¯é‡ç”¨çš„ æ•°æ®è¯·æ±‚
å†…ç½® ç¼“å­˜ å’Œé‡å¤è¯·æ±‚å»é™¤
å®æ—¶ ä½“éªŒ
ä¼ è¾“å’Œåè®®ä¸å¯çŸ¥
æ”¯æŒ SSR / ISR / SSG
æ”¯æŒ TypeScript
React Native


```

# 4.è¿›åº¦æ¡å®ç°å’Œé…è‰²

è·³è½¬è¿›åº¦æ¡ç”± nprogress å®ç°ï¼Œå¯åœ¨ src/styles/main.css ä¸­è°ƒæ•´é…è‰²ã€‚

# 5. æ’ä»¶è‡ªåŠ¨åŠ è½½æ”¯æŒ

å¼•å…¥å„ç§æ’ä»¶ï¼Œæ¯”å¦‚ poniaï¼Œæˆ–æ˜¯ vue-router

// src/modules/router.ts

import { App } from 'vue'

// çœç•¥å„ç§é…ç½®

// å¯¼å‡º default æ¥å£
export default (app: App) => app.use(router)

# 6.è‡ªåŠ¨å¼•å…¥ vue çš„ï¼Œvue-router çš„ api å†…å®¹ï¼ŒvueUse

```
vue
pinia
vueuse
vue-router

```

é…ç½®

```
npm i -D unplugin-auto-import
import AutoImport from 'unplugin-auto-import/vite'
AutoImport
		// è‡ªåŠ¨å¯¼å…¥éƒ¨åˆ†
		AutoImport({
			dts: './presets/types/auto-imports.d.ts',
			imports: [
				'vue',
				'pinia',
				'vue-router',
				'@vueuse/core'
			],
			// resolvers: [ElementPlusResolver()]
		})

```

```
AutoImport({
  // targets to transform
  include: [
    /\.[tj]sx?$/, // .ts, .tsx, .js, .jsx
    /\.vue$/, /\.vue\?vue/, // .vue
    /\.md$/, // .md
  ],

  // global imports to register
  imports: [
    // presets
    'vue',
    'vue-router',
    // custom
    {
      '@vueuse/core': [
        // named imports
        'useMouse', // import { useMouse } from '@vueuse/core',
        // alias
        ['useFetch', 'useMyFetch'] // import { useFetch as useMyFetch } from '@vueuse/core',
      ],
      'axios': [
        // default imports
        ['default', 'axios'] // import { default as axios } from 'axios',
      ],
      '[package-name]': [
        '[import-names]',
        // alias
        ['[from]', '[alias]']
      ]
    }
  ],


```

## vue-request å’Œ axios

useRequest æ¥æ”¶äº†ä¸€ä¸ª service å‡½æ•°ã€‚service æ˜¯ä¸€ä¸ªå¼‚æ­¥çš„è¯·æ±‚å‡½æ•°ï¼Œæ¢å¥è¯è¯´ï¼Œä½ å¯ä»¥ä½¿ç”¨ axios æ¥è·å–æ•°æ®ï¼Œç„¶åè¿”å›ä¸€ä¸ª Promiseã€‚æ›´å…·ä½“çš„è¯´æ˜å¯ä»¥åœ¨æ–‡æ¡£ä¸­æŸ¥çœ‹ã€‚

useRequest è¿˜è¿”å›äº†ä¸‰ä¸ªå€¼ï¼Œ dataã€loading å’Œ error

```
  const { data, loading, error } = useRequest(service);

```

### ä¸€äº›å¾ˆé…·çš„ç‰¹æ€§

VueRequest æœ‰éå¸¸å¤šçš„ç‰¹æ€§ï¼Œå¦‚ é”™è¯¯é‡è¯•ã€ç¼“å­˜ã€åˆ†é¡µã€èŠ‚æµã€é˜²æŠ–...ï¼Œè¿™é‡Œåˆ—ä¸¾ä¸¤ä¸ªä¸ªæ¯”è¾ƒé…·çš„ç‰¹æ€§

### æ‰‹åŠ¨è§¦å‘è¯·æ±‚

```
é»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†ä¼šåœ¨ç»„ä»¶æŒ‚è½½æ—¶ï¼Œè‡ªåŠ¨å¸®ä½ è§¦å‘ç»‘å®šçš„è¯·æ±‚ã€‚å½“ç„¶ï¼Œå¦‚æœä½ æƒ³è‡ªå·±æ§åˆ¶è§¦å‘è¯·æ±‚çš„æ—¶æœºï¼Œä½ å¯ä»¥é€šè¿‡ä¼ å…¥ manual é€‰é¡¹ï¼Œæ¥ç¦æ­¢æŒ‚è½½æ—¶çš„é»˜è®¤è¯·æ±‚ï¼Œç„¶åé€šè¿‡ run() æˆ–è€… runAsync() æ¥è§¦å‘è¯·æ±‚ã€‚
  const { run, data, loading } = useRequest(testService, {
      manual: true,
    });

    const handleLogin = () => {
      run(name.value);
    };

```

### 1.èšç„¦é¡µé¢æ—¶è‡ªåŠ¨é‡æ–°è¯·æ±‚

```
const { data, error, run } = useRequest(getUserInfo, {
  refreshOnWindowFocus: true,
  refocusTimespan: 1000, // è¯·æ±‚é—´éš”æ—¶é—´
});

```

### è½®è®­æ•°æ®

```
const { data, error, run } = useRequest(getUserInfo, {
  pollingInterval: 1000, // è¯·æ±‚é—´éš”æ—¶é—´
});


```

### è¯·æ±‚é˜²æŠ–

```
const { data, loading, run } = useRequest(testService, {
      debounceInterval: 300,
      manual: true,
    });


```

### è¾“å…¥ input æ¡†èŠ‚æµ

```
    const { data, loading, run } = useRequest(testService, {
      throttleInterval: 1000,
      manual: true,
    });

    const handleInput = () => {
      run();
    };


```

### é”™è¯¯é‡è¯•

```

const { data } = useRequest(getUser, {
  errorRetryCount: 5, // it will retry 5 times
  errorRetryInterval: 3 * 1000, // The retry interval is 3 seconds
});


```

## 08vite è¯­æ³•ç³–å¢å¼ºæ’ä»¶

vite-plugin-vue-setup-extend
Vue3 çš„ setup è¯­æ³•ç³–æ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œä½†ä½¿ç”¨ setup è¯­æ³•å¸¦æ¥çš„ç¬¬ä¸€ä¸ªé—®é¢˜å°±æ˜¯æ— æ³•è‡ªå®šä¹‰ nameï¼Œè€Œæˆ‘ä»¬ä½¿ç”¨ keep-alive å¾€å¾€æ˜¯éœ€è¦ name çš„ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜é€šå¸¸æ˜¯é€šè¿‡å†™ä¸¤ä¸ª script æ ‡ç­¾æ¥è§£å†³ï¼Œä¸€ä¸ªä½¿ç”¨ setupï¼Œä¸€ä¸ªä¸ä½¿ç”¨ï¼Œä½†è¿™æ ·å¿…ç„¶æ˜¯ä¸å¤Ÿä¼˜é›…çš„

```
import { defineConfig } from 'vite'
import VueSetupExtend from 'vite-plugin-vue-setup-extend'
export default defineConfig({
  plugins: [
    VueSetupExtend()
  ]

})


```

## å¿½ç•¥æ–‡ä»¶åç¼€

```

import { defineConfig } from 'vite'
export default defineConfig({
  resolve: {
    extensions: ['.js', '.ts', '.jsx', '.tsx', '.json', '.vue']
  }
})


```

## æ–°å¢æ•°æ®æŒä¹…åŒ–æ’ä»¶

```
import piniaPersist from 'pinia-plugin-persist'
ä¸€äº›å¤´åƒï¼Œç™»å½•æ€ï¼Œåˆ·æ–°ä¸æ¸…æ¥š



```

## æ‰¾ä¸åˆ°æ¨¡å—â€œ./counterâ€æˆ–å…¶ç›¸åº”çš„ç±»å‹å£°æ˜ã€‚

æˆ‘åœ¨ä½¿ç”¨æ—¶å‡ºç°è¿™ä¸ªé—®é¢˜çš„åŸå› æ˜¯å› ä¸ºé…ç½®çš„å¿«æ·è·¯å¾„å¯¼è‡´çš„
å¿…é¡»åœ¨ vite å’Œ tsconfig ä¸­éƒ½é…ç½®

## pinia é…ç½®

### ä½¿ç”¨æ–¹å¼ä¸¤ç§ä½¿ç”¨æ–¹å¼ç»„åˆå¼ API

```
import { defineStore } from 'pinia';
//åˆ›å»ºå‡ºæ¥ä¸€ä¸ªä¸ªå‘½åçš„store
export const roleBasic = defineStore('roleBasic', () => {
  const basic = reactive<IRoleBasic>({
    name: '',
    profession: '',
    sex: ''
  });

  function setItem(data: IRoleBasic) {
    if (typeof data === 'object') {
      Object.keys(data).forEach((key: string) => {
        if (basic.hasOwnProperty(key)) {
          basic[key] = data[key];
        }
      });
    }
  }

  return { basic, setItem };
});


```

### é€‰é¡¹å¼ API ä½¿ç”¨

```
//
import { defineStore } from 'pinia'
export const userStore = defineStore('user', {
    state: () => {
        return {
            count: 1,
            arr: []
        }
    },
    getters: {},
    actions: {}
})


```

### ä½¿ç”¨æ–¹å¼ï¼šè®¿é—® storeï¼Œå“åº”å¼è®¿é—®æœ€æ–° store

æ³¨æ„ï¼š// è§£æ„
// const { count } = userStore()
è§£æ„èµ‹å€¼å‡ºæ¥çš„ä¸æ˜¯å“åº”å¼çš„ã€‚
éœ€è¦ä½¿ç”¨æ–¹æ³•

```
import { storeToRefs } from 'pinia'
import { userStore } from '../store'
const { count } = storeToRefs(userStore())

```

### get è¿™ä¸ªå’Œ Vuex çš„ getters ä¸€æ ·ï¼Œä¹Ÿæœ‰ç¼“å­˜åŠŸèƒ½

```
getters: {
    // æ–¹æ³•ä¸€ï¼Œæ¥æ”¶ä¸€ä¸ªå¯é€‰å‚æ•° state
    myCount(state){
        console.log('è°ƒç”¨äº†') // é¡µé¢ä¸­ä½¿ç”¨äº†ä¸‰æ¬¡ï¼Œè¿™é‡Œåªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œç„¶åç¼“å­˜èµ·æ¥äº†
        return state.count + 1
    },
    // æ–¹æ³•äºŒï¼Œä¸ä¼ å‚æ•°ï¼Œä½¿ç”¨ this
    // ä½†æ˜¯å¿…é¡»æŒ‡å®šå‡½æ•°è¿”å›å€¼çš„ç±»å‹ï¼Œå¦åˆ™ç±»å‹æ¨å¯¼ä¸å‡ºæ¥
    myCount(): number{
        return this.count + 1
    }
}


```

### æ›´æ–°æ•°æ®æ–¹å¼ action

```
1.æ–¹æ³•1ï¼šç›´æ¥æ›´æ–°æ•°æ®
import { userStore } from '../store'
const user_store = userStore()
user_store.count++

2.æ–¹æ³•2ï¼šæ›´æ–°å¤šä¸ªæ•°æ®ï¼Œå»ºè®®ç”¨ $patch æ‰¹é‡æ›´æ–°
å¯¹è±¡æ–¹å¼å’Œå‡½æ•°æ–¹å¼
å¯¹è±¡æ–¹æ³•
user_store.$patch({
  count:user_store
})
å‡½æ•°æ–¹æ³•
user_store.$patch( state => {
      state.count++
      state.arr.push(1)
  })

```

## æ”¯æŒ eslint

```
npm install eslint vite-plugin-eslint --save-dev

æ’ä»¶1ï¼šimport eslint from 'vite-plugin-eslint'

æ’ä»¶2ï¼šeslint-plugin-vue

æ’ä»¶3,4,tsä¸­
â¯ pnpm i @typescript-eslint/eslint-plugin @typescript-eslint/parser -D

```
